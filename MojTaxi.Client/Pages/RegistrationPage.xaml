<?xml version="1.0" encoding="UTF-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="MojTaxi.Client.Pages.RegistrationPage"
             BackgroundColor="Black"
             Shell.NavBarIsVisible="False"
             Shell.TabBarIsVisible="False"
             SafeAreaEdges="None">

    <Grid>

        <ScrollView>
            <Grid RowDefinitions="Auto, *, Auto"
                  Padding="24"
                  RowSpacing="18">

                <!-- Naslov -->
                <Label Text="Registracija"
                       Grid.Row="0"
                       FontSize="28"
                       FontAttributes="Bold"
                       TextColor="White"
                       HorizontalOptions="Center"
                       Margin="0,20,0,10"/>

                <!-- Glavni sadržaj -->
                <VerticalStackLayout Grid.Row="1"
                                     Spacing="18"
                                     HorizontalOptions="Fill"
                                     VerticalOptions="Start">

                    <!-- FOTO -->
                    <Border StrokeShape="RoundRectangle 70"
                            Stroke="Transparent"
                            HeightRequest="140"
                            WidthRequest="140"
                            HorizontalOptions="Center"
                            BackgroundColor="#1A1A1A">

                        <Image x:Name="ProfileImage"
                               HeightRequest="140"
                               WidthRequest="140"
                               Aspect="AspectFill"/>
                    </Border>

                    <Button Text="Dodaj sliku"
                            Style="{StaticResource TaxiButton}"
                            Command="{Binding PickImageCommand}" />

                    <!-- INPUT POLJA -->
                    <Entry Placeholder="Ime"
                           Text="{Binding FirstName}"
                           BackgroundColor="#1A1A1A"
                           TextColor="White"
                           PlaceholderColor="#777"/>

                    <Entry Placeholder="Prezime"
                           Text="{Binding LastName}"
                           BackgroundColor="#1A1A1A"
                           TextColor="White"
                           PlaceholderColor="#777"/>

                    <Entry Placeholder="Telefon"
                           Text="{Binding PhoneNumber}"
                           IsEnabled="False"
                           BackgroundColor="#1A1A1A"
                           TextColor="White"/>

                    <Entry Placeholder="E-mail"
                           Text="{Binding Email}"
                           Keyboard="Email"
                           BackgroundColor="#1A1A1A"
                           TextColor="White"
                           PlaceholderColor="#777"/>

                </VerticalStackLayout>

                <!-- Bottom button + indikatori -->
                <VerticalStackLayout Grid.Row="2"
                                     Spacing="12"
                                     VerticalOptions="End"
                                     HorizontalOptions="Fill">

                    <Button Text="Završi registraciju"
                            Style="{StaticResource TaxiButton}"
                            Command="{Binding SubmitCommand}" />

                    <ActivityIndicator
                        IsRunning="{Binding IsBusy}"
                        IsVisible="{Binding IsBusy}"
                        Color="#FFD700"
                        HorizontalOptions="Center" />

                    <Label Text="{Binding Error}"
                           TextColor="Red"
                           HorizontalOptions="Center" />
                </VerticalStackLayout>

            </Grid>
        </ScrollView>

    </Grid>

</ContentPage>
